<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Signup - NaijaMall</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles-extended.css">
</head>
<body>
    <div style="padding: 50px; text-align: center;">
        <h1>Signup Test Page</h1>
        <p>Click the button below to test the signup modal:</p>
        <button class="btn-primary" onclick="testSignup()">Test Signup Modal</button>
        
        <div id="console" style="margin-top: 30px; padding: 20px; background: #f5f5f5; text-align: left; border-radius: 8px;">
            <h3>Console Output:</h3>
            <pre id="output" style="white-space: pre-wrap;"></pre>
        </div>
    </div>

    <script type="module">
        // Log everything to the page
        const output = document.getElementById('output');
        const log = (msg) => {
            console.log(msg);
            output.textContent += msg + '\n';
        };

        log('Loading modules...');
        
        try {
            // Import auth-modals
            const authModals = await import('./auth-modals.js');
            log('✅ auth-modals.js loaded');
            log(`showRegisterModal type: ${typeof authModals.showRegisterModal}`);
            
            // Import app.js
            await import('./app.js');
            log('✅ app.js loaded');
            log(`window.handleRegister type: ${typeof window.handleRegister}`);
            log(`window.closeModal type: ${typeof window.closeModal}`);
            
            // Test function
            window.testSignup = () => {
                log('testSignup() called');
                try {
                    if (typeof window.showRegisterModal === 'function') {
                        log('Calling window.showRegisterModal()...');
                        window.showRegisterModal();
                        log('✅ Modal shown!');
                    } else if (typeof authModals.showRegisterModal === 'function') {
                        log('Calling authModals.showRegisterModal()...');
                        authModals.showRegisterModal();
                        log('✅ Modal shown!');
                    } else {
                        log('❌ showRegisterModal not found!');
                    }
                } catch (error) {
                    log('❌ Error: ' + error.message);
                    log('Stack: ' + error.stack);
                }
            };
            
            log('✅ All modules loaded successfully!');
            log('Ready to test signup!');
            
        } catch (error) {
            log('❌ Failed to load modules: ' + error.message);
            log('Stack: ' + error.stack);
        }
    </script>
</body>
</html>
